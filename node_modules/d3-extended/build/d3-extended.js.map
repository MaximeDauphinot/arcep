{"version":3,"file":"d3-extended.js","sources":["../src/addClass.js","../src/after.js","../src/appendTo.js","../src/before.js","../src/clear.js","../src/css.js","../src/eq.js","../src/first.js","../src/hasClass.js","../src/hide.js","../src/last.js","../src/moveToBack.js","../src/moveToFront.js","../src/on.js","../src/prepend.js","../src/removeClass.js","../src/show.js","../src/toggle.js","../src/toggleClass.js","../index.js"],"sourcesContent":["function addClass(classNames) {\n  this.classed(classNames, true);\n  return this;\n}\n\nexport default addClass;\n","import { selectAll } from 'd3-selection';\n\nfunction after(tagName) {\n  const elements = [];\n\n  this.each(function() {\n    const document = this.ownerDocument;\n    const element = document.createElement(tagName);\n    this.parentNode.insertBefore(element, this.nextSibling);\n    elements.push(element);\n  });\n\n  return selectAll(elements);\n}\n\nexport default after;\n","import { selectAll } from 'd3-selection';\n\nfunction appendTo(selection) {\n  const targets = selection;\n  const targetCount = targets.size();\n  const _this = this;\n  const clones = [];\n\n  targets.each(function() {\n    const currTarget = this;\n    _this.each(function() {\n      if(targetCount > 1) {\n        const clone = this.cloneNode(true);\n        currTarget.appendChild(clone);\n        clones.push(clone);\n      }\n      else {\n        currTarget.appendChild(this);\n      }\n    });\n  });\n\n  if (targetCount > 1) {\n    this.remove();\n  }\n\n  return clones.length > 0 ? selectAll(clones) : this;\n}\n\nexport default appendTo;\n","import { selectAll } from 'd3-selection';\n\nfunction before(tagName) {\n  const elements = [];\n\n  this.each(function() {\n    const document = this.ownerDocument;\n    const element = document.createElement(tagName);\n    this.parentNode.insertBefore(element, this);\n    elements.push(element);\n  });\n\n  return selectAll(elements);\n}\n\nexport default before\n","function clear() {\n  this.selectAll('*').remove();\n  return this;\n}\n\nexport default clear\n","function css(prop, value){\n  if (value) {\n    this.style(prop, value);\n  } else {\n    const that = this;\n    Object.keys(prop).map(function(o,i) {\n      const value = prop[o];\n      that.style(o, value);\n    });\n  }\n  return this;\n}\n\nexport default css;\n","import { select } from 'd3-selection';\n\nfunction eq(findI, findJ) {\n  return select(this['_groups'][0][findI]);\n}\n\nexport default eq\n","import { select } from 'd3-selection';\n\nfunction first() {\n  return select(this['_groups'][0][0]);\n}\n\nexport default first\n","function hasClass(className) {\n  return this.classed(className);\n}\n\nexport default hasClass\n","function hide() {\n  this.style('display', 'none');\n  return this;\n}\n\nexport default hide\n","import { select } from 'd3-selection';\n\nfunction last() {\n  const size = this['_groups'][0].length-1;\n  return select(this['_groups'][0][size]);\n}\n\nexport default last;\n","function moveToBack() {\n  return this.each(function() {\n    const firstChild = this.parentNode.firstChild;\n    if (firstChild) {\n      this.parentNode.insertBefore(this, firstChild);\n    }\n  });\n}\n\nexport default moveToBack;\n","function moveToFront() {\n  return this.each(function() {\n    this.parentNode.appendChild(this);\n  });\n}\n\nexport default moveToFront;\n","// taken from the awesome https://github.com/gka/d3-jetpack/blob/master/d3-jetpack.js#L138\n// we need the original on function from d3 for selection.trigger\nimport { selection } from 'd3-selection';\n\nconst d3_selection_on = selection.prototype.on;\nfunction on(type, listener, capture) {\n  if (typeof type === 'string' && type.indexOf(' ') > -1) {\n    const types = type.split(' ');\n    for (let i = 0; i < types.length; i++) {\n        d3_selection_on.apply(this, [types[i], listener, capture]);\n    }\n  } else {\n    d3_selection_on.apply(this, [type, listener, capture]);\n  }\n\n  return this;\n};\n\nexport default on;\n","import { selectAll } from 'd3-selection';\n\n//the same as append, but inserting the element before the first element in the container\nfunction prepend(tagName) {\n  const elements = [];\n\n  this.each(function() {\n    const document = this.ownerDocument;\n    const element = document.createElement(tagName);\n    this.insertBefore(element, this.firstChild);\n    elements.push(element);\n  });\n\n  return selectAll(elements);\n}\n\nexport default prepend;\n","function removeClass(classNames) {\n  return this.classed(classNames, false);\n}\n\nexport default removeClass;\n","function show() {\n  const tagName = this._groups[0][0].tagName;\n  const t = document.createElement(tagName);\n  const gcs = \"getComputedStyle\" in window;\n\n  document.body.appendChild(t);\n  const cStyle = (gcs ? window.getComputedStyle(t, '') : t.currentStyle).display;\n  document.body.removeChild(t);\n\n  this.style('display', cStyle);\n  return this;\n}\n\nexport default show;\n","function toggle() {\n  const tagName = this._groups[0][0].tagName;\n  const t = document.createElement(tagName);\n  const gcs = \"getComputedStyle\" in window;\n\n  document.body.appendChild(t);\n  const cStyle = (gcs ? window.getComputedStyle(t, '') : t.currentStyle).display;\n  document.body.removeChild(t);\n\n  var isHidden = this.style('display') == 'none';\n  return this.style('display', isHidden ? cStyle : 'none');\n}\n\nexport default toggle;\n","function toggleClass(classNames) {\n  const classes = classNames.split(' ');\n\n  for(let i = 0; i < classes.length; i++) {\n    const c = classes[i];\n    this.classed(c, !this.classed(c));\n  }\n  return this;\n}\n\nexport default toggleClass;\n","\nimport { selection } from 'd3-selection';\n\nimport { default as addClass } from './src/addClass';\nimport { default as after } from './src/after';\nimport { default as appendTo } from './src/appendTo';\nimport { default as before } from './src/before';\nimport { default as clear } from './src/clear';\nimport { default as css } from './src/css';\nimport { default as eq } from './src/eq';\nimport { default as first } from './src/first';\nimport { default as hasClass } from './src/hasClass';\nimport { default as hide } from './src/hide';\nimport { default as last } from './src/last';\nimport { default as moveToBack } from './src/moveToBack';\nimport { default as moveToFront } from './src/moveToFront';\nimport { default as on } from './src/on';\nimport { default as prepend } from './src/prepend';\nimport { default as removeClass } from './src/removeClass';\nimport { default as show } from './src/show';\nimport { default as toggle } from './src/toggle';\nimport { default as toggleClass } from './src/toggleClass';\n\nselection.prototype.addClass = addClass;\nselection.prototype.after = after;\nselection.prototype.appendTo = appendTo;\nselection.prototype.before = before;\nselection.prototype.clear = clear;\nselection.prototype.css = css;\nselection.prototype.eq = eq;\nselection.prototype.first = first;\nselection.prototype.hasClass = hasClass;\nselection.prototype.hide = hide;\nselection.prototype.last = last;\nselection.prototype.moveToBack = moveToBack;\nselection.prototype.moveToFront = moveToFront;\nselection.prototype.on = on;\nselection.prototype.prepend = prepend;\nselection.prototype.removeClass = removeClass;\nselection.prototype.show = show;\nselection.prototype.toggle = toggle;\nselection.prototype.toggleClass = toggleClass;\n"],"names":["addClass","classNames","classed","after","tagName","elements","each","document","ownerDocument","element","createElement","parentNode","insertBefore","nextSibling","push","selectAll","appendTo","selection","targets","targetCount","size","_this","clones","currTarget","clone","cloneNode","appendChild","remove","length","before","clear","css","prop","value","style","that","Object","keys","map","o","i","eq","findI","findJ","select","first","hasClass","className","hide","last","moveToBack","firstChild","moveToFront","d3_selection_on","prototype","on","type","listener","capture","indexOf","types","split","apply","prepend","removeClass","show","_groups","t","gcs","window","body","cStyle","getComputedStyle","currentStyle","display","removeChild","toggle","isHidden","toggleClass","classes","c"],"mappings":"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"}