{"ast":null,"code":"var _jsxFileName = \"/Users/maximedauphinot/42code/arcep/src/App.js\";\nimport React, { Component } from 'react';\nimport './App.css'; // set the dimensions and margins of the graph\n\nvar margin = {\n  top: 10,\n  right: 10,\n  bottom: 10,\n  left: 10\n},\n    width = 445 - margin.left - margin.right,\n    height = 445 - margin.top - margin.bottom; // append the svg object to the body of the page\n\nvar svg = d3.select(\"#my_dataviz\").append(\"svg\").attr(\"width\", width + margin.left + margin.right).attr(\"height\", height + margin.top + margin.bottom).append(\"g\").attr(\"transform\", \"translate(\" + margin.left + \",\" + margin.top + \")\"); // Read data\n\nd3.csv('https://raw.githubusercontent.com/holtzy/D3-graph-gallery/master/DATA/data_hierarchy_1level.csv', function (data) {\n  // stratify the data: reformatting for d3.js\n  var root = d3.stratify().id(function (d) {\n    return d.name;\n  }) // Name of the entity (column name is name in csv)\n  .parentId(function (d) {\n    return d.parent;\n  }) // Name of the parent (column name is parent in csv)\n  (data);\n  root.sum(function (d) {\n    return +d.value;\n  }); // Compute the numeric value for each entity\n  // Then d3.treemap computes the position of each element of the hierarchy\n  // The coordinates are added to the root object above\n\n  d3.treemap().size([width, height]).padding(4)(root);\n  console.log(root.leaves()); // use this information to add rectangles:\n\n  svg.selectAll(\"rect\").data(root.leaves()).enter().append(\"rect\").attr('x', function (d) {\n    return d.x0;\n  }).attr('y', function (d) {\n    return d.y0;\n  }).attr('width', function (d) {\n    return d.x1 - d.x0;\n  }).attr('height', function (d) {\n    return d.y1 - d.y0;\n  }).style(\"stroke\", \"black\").style(\"fill\", \"#69b3a2\"); // and to add the text labels\n\n  svg.selectAll(\"text\").data(root.leaves()).enter().append(\"text\").attr(\"x\", function (d) {\n    return d.x0 + 10;\n  }) // +10 to adjust position (more right)\n  .attr(\"y\", function (d) {\n    return d.y0 + 20;\n  }) // +20 to adjust position (lower)\n  .text(function (d) {\n    return d.data.name;\n  }).attr(\"font-size\", \"15px\").attr(\"fill\", \"white\");\n});\n\nclass App extends Component {\n  render() {\n    return React.createElement(\"div\", {\n      className: \"App\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, \"Hello World\"), React.createElement(\"div\", {\n      id: \"my_dataviz\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }));\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/maximedauphinot/42code/arcep/src/App.js"],"names":["React","Component","margin","top","right","bottom","left","width","height","svg","d3","select","append","attr","csv","data","root","stratify","id","d","name","parentId","parent","sum","value","treemap","size","padding","console","log","leaves","selectAll","enter","x0","y0","x1","y1","style","text","App","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport './App.css';\n\n\n// set the dimensions and margins of the graph\nvar margin = {top: 10, right: 10, bottom: 10, left: 10},\n  width = 445 - margin.left - margin.right,\n  height = 445 - margin.top - margin.bottom;\n\n// append the svg object to the body of the page\nvar svg = d3.select(\"#my_dataviz\")\n.append(\"svg\")\n  .attr(\"width\", width + margin.left + margin.right)\n  .attr(\"height\", height + margin.top + margin.bottom)\n.append(\"g\")\n  .attr(\"transform\",\n        \"translate(\" + margin.left + \",\" + margin.top + \")\");\n\n// Read data\nd3.csv('https://raw.githubusercontent.com/holtzy/D3-graph-gallery/master/DATA/data_hierarchy_1level.csv', function(data) {\n\n  // stratify the data: reformatting for d3.js\n  var root = d3.stratify()\n    .id(function(d) { return d.name; })   // Name of the entity (column name is name in csv)\n    .parentId(function(d) { return d.parent; })   // Name of the parent (column name is parent in csv)\n    (data);\n  root.sum(function(d) { return +d.value })   // Compute the numeric value for each entity\n\n  // Then d3.treemap computes the position of each element of the hierarchy\n  // The coordinates are added to the root object above\n  d3.treemap()\n    .size([width, height])\n    .padding(4)\n    (root)\n\nconsole.log(root.leaves())\n  // use this information to add rectangles:\n  svg\n    .selectAll(\"rect\")\n    .data(root.leaves())\n    .enter()\n    .append(\"rect\")\n      .attr('x', function (d) { return d.x0; })\n      .attr('y', function (d) { return d.y0; })\n      .attr('width', function (d) { return d.x1 - d.x0; })\n      .attr('height', function (d) { return d.y1 - d.y0; })\n      .style(\"stroke\", \"black\")\n      .style(\"fill\", \"#69b3a2\");\n\n  // and to add the text labels\n  svg\n    .selectAll(\"text\")\n    .data(root.leaves())\n    .enter()\n    .append(\"text\")\n      .attr(\"x\", function(d){ return d.x0+10})    // +10 to adjust position (more right)\n      .attr(\"y\", function(d){ return d.y0+20})    // +20 to adjust position (lower)\n      .text(function(d){ return d.data.name})\n      .attr(\"font-size\", \"15px\")\n      .attr(\"fill\", \"white\")\n})\n\nclass App extends Component {\n  render() {\n    return (        \n      <div className=\"App\">\n        <h1>Hello World</h1>\n        <div id=\"my_dataviz\"></div>\n      </div>\n    );\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}